function say(o,t,e){document.querySelector("#say-content").innerText=o,t&&(document.querySelector("#say-author").innerText=t),e&&(document.querySelector("#say-from").innerText="「"+e+"」")}CONFIG.say.api&&fetch(new Request(CONFIG.say.api)).then(function(o){if(!o.ok)throw new Error(CONFIG.say.api+", HTTP error, status = "+o.status);o.json().then(function(o){CONFIG.say.hitokoto?say(o.hitokoto,o.from_who,o.from):say((o=o[Math.floor(Math.random()*o.length)]).content,o.author,o.from)})}).catch(function(o){console.log("error: "+o.toString())});