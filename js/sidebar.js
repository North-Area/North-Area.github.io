function scrollToLink(){const e=document.querySelectorAll(".toc a");e.forEach(e=>{e.onclick=()=>{window.scrollTo(0,document.querySelector(e.getAttribute("href")).offsetTop)}})}function initSidebar(){if(scrollToLink(),document.querySelectorAll(".sidebar-nav li").forEach(e=>{e.onclick=function(){var e="sidebar-nav-active",t="sidebar-panel-active";this.classList.contains(e)||(document.querySelector("."+t).classList.remove(t),document.querySelector("#"+this.dataset.target).classList.add(t),document.querySelector("."+e).classList.remove(e),this.classList.add(e))}}),document.querySelectorAll(".toc-link").length){let e=document.querySelector(".post-content").querySelectorAll("h1, h2, h3, h4, h5, h6");window.addEventListener("scroll",function(){!function(t,o){let c="";for(let e=0;e<t.length;e++){var i=t[e];if(!(o>i.offsetTop-64))break;c="#"+i.attributes.id.value}var e=document.querySelector(".toc-link.active");c=c||"#"+document.querySelector("h2").id;e&&e.attributes.href===c||(e=document.querySelector(".toc-link[href='"+c+"']"))&&(function(e){document.querySelectorAll(".toc-item").forEach(e=>{e.classList.remove("active")});let t=e.parentNode;t.classList.add("active");for(;t.parentNode.classList.contains("toc-child");)t=t.parentNode.parentNode,t.classList.add("active")}(e),function(e){window.history.replaceState&&e!==window.location.hash&&window.history.replaceState(void 0,void 0,e)}(c))}(e,window.scrollY)})}}document.addEventListener("DOMContentLoaded",initSidebar),document.addEventListener("pjax:success",initSidebar);